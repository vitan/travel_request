<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Travel Request</title>
	 <style type="text/css">
		.top-left-padding-panel{
			padding: 18px 0 0 18px;
		}
		.form-required{
			color: red;	
		}
		.input-dialog{
			display: none; 
			margin: 9px 0;
			background:#eee; 
			border-radius: 4px;
			width: 220px;
			padding: 9px 5px;			
		}
		.block-element{
			display: block;
		}
		.travel-form textarea{
			height: 100px;
		}
		.add-location{
			margin-bottom: 9px;		
		}
	 </style>
</head>

<div class="content">
<div class="top-left-padding-panel travel-form">
    <form id="id_travel_request" action="" method="POST">
        {% csrf_token %}
        <div>
            <label>{{ form.requestor_email.label }}<span class='form-required'>*</span></label>
            <span class='form-required'>
                {{ form.requestor_email.errors }}
            </span>
            {{ form.requestor_email }}
        </div>
        <div>
            <label>{{ form.manager_email.label }}<span class='form-required'>*</span></label>
            <span class='form-required'>
                {{ form.manager_email.errors }}
            </span>
            {{ form.manager_email }}
        </div>
        <div>
            <label>{{ form.departure.label }}<span class='form-required'>*</span></label>
            <span class='form-required'>
                {{ form.departure.errors }}
            </span>
            {{ form.departure }}
        </div>
        <div>
            <label>{{ form.destination.label }}<span class='form-required'>*</span></label>
            <span class='form-required'>
                {{ form.destination.errors }}
            </span>
            {{ form.destination }}
        </div>
        <div>
            <label>{{ form.start_date.label }}<span class='form-required'>*</span></label>
            <span class='form-required'>
                {{ form.start_date.errors }}
            </span>
            {{ form.start_date }}
        </div>
        <div>
            <label>{{ form.end_date.label }}<span class='form-required'>*</span></label>
            <span class='form-required'>
                {{ form.end_date.errors }}
            </span>
            {{ form.end_date }}
        </div>
        <div>
            <label>{{ form.working_dates.label }}<span class='form-required'>*</span></label>
            <span class='form-required'>
                {{ form.working_dates.errors }}
            </span>
            {{ form.working_dates }}
        </div>
        <div>
            <label>{{ form.reason.label }}<span class='form-required'>*</span></label>
            <span class='form-required'>
                {{ form.reason.errors }}
            </span>
            {{ form.reason }}
        </div>
        <ul>
            <input id="id_request" type="submit" name="request" value="Request" class="btn-primary"/>
        </ul>
    </form>
<script>
	$(function(){
	//datepicker
	$(function() {
	$( "#datepicker1,#datepicker2,#datepicker3" ).datepicker({dateFormat:"DD,d,MM,yy"});
	});
	//select the option(Others) show the input panel
	$("#select-location").change(function(){
		if($("#select-location option:selected").text()=='Others')
			$("#dialog-location").show();	 
	})
	$("#select-location2").change(function(){
		if($("#select-location2 option:selected").text()=='Others')
			$("#dialog-location2").show();	 
	})
	$("#add-location1").click(function(){		
			$("#dialog-location").show();	 
	})
	$("#add-location2").click(function(){		
			$("#dialog-location2").show();	 
	})
	//add the input text to select
	$("#location-btn").click(function(){	
			var value=$("#select-input").val();
   $("#select-location").append("<option selected="+"selected"+">"+value+"</option>");
	$("#dialog-location").hide(); 
	})
	$("#location-btn2").click(function(){	
			var value=$("#select-input2").val();
   $("#select-location2").append("<option selected="+"selected"+">"+value+"</option>");
	$("#dialog-location2").hide(); 
	})
})
</script>	
</div>
</div>
